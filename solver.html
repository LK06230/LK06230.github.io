<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ì†”ë²„</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{font-family:system-ui;background:#020617;color:#e5e7eb;padding:30px}
.quest{background:#0f172a;padding:16px;border-radius:10px;margin-bottom:16px}
button{padding:8px 12px;border:none;border-radius:6px;font-weight:bold;cursor:pointer;background:#38bdf8;color:#022c22}
</style>
</head>
<body>

<h1>ğŸ§‘â€ğŸ”§ ì†”ë²„</h1>

<h2>ğŸ“Œ ì§„í–‰ ì¤‘ í€˜ìŠ¤íŠ¸</h2>
<div id="doing"></div>

<script>
const SOLVER="solver-demo";
const QUEST_KEY="quests";
const SUB_KEY="submissions";

const quests=JSON.parse(localStorage.getItem(QUEST_KEY))||[];
const subs=JSON.parse(localStorage.getItem(SUB_KEY))||[];
const doing=document.getElementById("doing");

function save(){
  localStorage.setItem(SUB_KEY,JSON.stringify(subs));
  localStorage.setItem(QUEST_KEY,JSON.stringify(quests));
  render();
}

function submit(questId){
  subs.push({
    id:Date.now(),
    questId,
    solverId:SOLVER,
    content:"ì™„ë£Œí–ˆìŠµë‹ˆë‹¤!"
  });
  const q=quests.find(q=>q.id===questId);
  q.status="review";
  save();
}

function render(){
  doing.innerHTML="";
  quests.filter(q=>q.assignedSolverId===SOLVER && q.status==="in_progress")
    .forEach(q=>{
      const div=document.createElement("div");
      div.className="quest";
      div.innerHTML=`
        <strong>${q.title}</strong><br>
        <button>ì™„ë£Œ ë³´ê³ </button>
      `;
      div.querySelector("button").onclick=()=>submit(q.id);
      doing.appendChild(div);
    });
}

render();
</script>
</body>
</html>
